# Vet Metrics (Возвращаемость клиентов)

Сервис считает **возвращаемость клиентов** по формуле:

**Возвращаемость (%) = (КЛ. Повторные / КЛ.Все Записанные) × 100**

Данные берутся из Excel-выгрузки (листы с названиями года: `2024`, `2025`, ...).

## Что умеет сейчас
- Загрузка Excel (создаёт **снимок** в истории)
- Просмотр отчёта по URL `/{год}/{месяц}`, например: `/2025/10`
- Карточки: возвращаемость, все клиенты, повторные
- Таблица по специализациям
- Просмотр истории загрузок на странице `/reports`

## Как запустить на Vercel (без локальной разработки)
1) Создай репозиторий на GitHub и загрузи туда содержимое этого проекта.
2) Создай Postgres базу (Neon или Vercel Postgres).
3) В Vercel импортируй репозиторий и добавь переменную окружения:

- `DATABASE_URL` = строка подключения к Postgres

4) Нажми Deploy.

После деплоя:
- Открой главную страницу.
- Нажми **"Загрузить Excel"**, выбери файл выгрузки.
- Перейди на нужный месяц, например `/2025/10`.

## Примечание
- Миграции Prisma выполняются автоматически во время сборки (build).
